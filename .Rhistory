setwd("C:/Users/Tus nalgas/Desktop/Rcourses/Tidyverse R playbook")
library(dplyr)
library(tidyverse)
install.packages("tidyverse")
library(dplyr)
library(tidyverse)
head(mtcars)
dim(mtcars)
filter(mtcars, mpg >20)
filter(mtcars, mpg >20, hp ==110)
filter(mtcars, mpg >20, hp ==110, gear == 4)
mtcars$make_model <- rownames(mtcars)
## Arrange
arrange(mtcars,qsec)
arrange(mtcars, desc(qsec), desc(wt))
arrange(mtcars, desc(qsec), desc(wt))
## pipe operator
mtcars %>%
filter(mpg > 20,
qsec >= 15) %>%
arrange(qsec)
## mutate
mtcars %>%
mutate(new_col = cyl + wt + am + gear)
head(mtcars)
## mutate
mtcars <- mtcars %>%
mutate(new_col = cyl + wt + am + gear)
head(mtcars)
mtcars %>%
mutate(decile = ntile(qsec,10)) %>%
filter(decile <= 3)
mtcars %>%
mutate(decile = ntile(qsec,10),
over_20_mpg = ifelse(mpg > 20 , 1, 0)) %>%
filter(decile <= 3,
over_20_mpg == 1)
mtcars %>%
mutate(decile = ntile(qsec,10),
over_20_mpg = ifelse(mpg > 20 , 1, 0)) %>%
filter(decile <= 3,
over_20_mpg == 1) %>%
arrange(desc(wt))
mtcars %>%
mutate(decile = ntile(qsec,10)) %>%
arrange(desc(qsec))
mtcars %>%
mutate(decile = ntile(qsec,10),
over_20_mpg = ifelse(mpg > 20 , 1, 0)) %>%
filter(decile <= 3,
over_20_mpg == 1) %>%
arrange(desc(wt))
mtcars %>%
mutate(decile = ntile(qsec,10),
over_20_mpg = ifelse(mpg > 20 , 1, 0)) %>%
filter(decile <= 3,
over_20_mpg == 1) %>%
arrange(desc(wt)) %>%
select(mpg,wt,qsec,make_model)
ldeaths
ldeaths_df <- as.data.frame(ldeaths)
messy <- data.frame(
name = c("john", "JAcob", "Jingleheimer", "Schmidt"),
a = c(67,80,64,54),
b = c(56,90,50,86)
)
messy
messy %>%
gather(drug,volume, a:b)
messy <- data.frame(
name = c("john", "JAcob", "Jingleheimer", "Schmidt"),
a = c(67,80,64,54),
b = c(56,90,50,86),
c = c(10,23,15,30)
)
messy
messy %>%
gather(drug,volume, a:c)
messy
messy
long_df %>%
gather(drug, volume, a:C)
long_df %>%
gather(drug, volume, a:C)
long_df <- messy %>%
gather(drug, volume, a:C)
long_df
messy <- data.frame(
name = c("john", "JAcob", "Jingleheimer", "Schmidt"),
a = c(67,80,64,54),
b = c(56,90,50,86),
c = c(10,23,15,30)
)
long_df <- messy %>%
gather(drug, volume, a:C)
rlang::last_error()
messy
long_df <- messy %>%
gather(drug, volume, a:C)
long <- messy %>%
gather(drug, volume, a:C)
long = messy %>%
gather(drug, volume, a:C)
messy %>%
gather(drug,volume, a:c)
messy %>%
gather(drug, volume, a:C)
messy %>%
gather(drug,volume, a:c)
messy %>%
gather(drug, volume, a:C)
## SPREAD
messy %>%
gather(drug,volume, a:c)
## SPREAD
long_df <- messy %>%
gather(drug,volume, a:c)
long_df
long_df <- spread(key=drug, value=volume)
long_df %>%
spread(key=drug, value=volume)
#### Podemos trabajar con valores faltantes
long_df <- long_df[-c(1,6),]
long_df
#### Podemos trabajar con valores faltantes
long_df <- long_df[-c(1, 6),]
long_df
long_df %>%
spread(drug,volume,fill = 0)
## SPREAD
long_df <- messy %>%
gather(drug,volume, a:c)
#### Podemos trabajar con valores faltantes
long_df <- long_df[-c(1, 6),]
long_df %>%
spread(drug,volume,fill = 0)
setwd("C:/Users/Tus nalgas/Desktop/Analisis de datos/parcial 3")
setwd("C:/Users/Tus nalgas/Desktop/Analisis de datos/parcial 3")
data <- read.csv("../Data/Raw/Elecciones.csv", header = T, sep = "\t")
getwd()
data <- read.csv("/Data/Raw/Elecciones.csv", header = T, sep = "\t")
data <- read.csv("/Data/Raw/Elecciones.csv", header = T, sep = "\t")
getwd()
data <- read.csv("Data/Raw/Elecciones.csv", header = T, sep = "\t")
View(data)
drop(data,Cod)
dim(data)
new_data <- cbind(data[, 1:2], data[,5:6])
View(new_data)
# Tidydata
data <- read.csv("Data/Raw/Elecciones.csv", header = T, sep = "\t")
new_data <- cbind(data[, 1:2], data[,5:6],data[,9:10])
# Tidydata
data <- read.csv("Data/Raw/Elecciones.csv", header = T, sep = "\t")
new_data <- cbind(data[, 1:2], data[,5:6],data[,9:10],data[,15:16],data[,21:24])
View(new_data)
write.csv(new_data,"Data/Tidy/Elecciones_Parcial.csv")
data <- read.csv("Data/Tidy/Elecciones_Parcial.csv",headet = T)
data <- read.csv("Data/Tidy/Elecciones_Parcial.csv",header = T)
head(data)
View(new_data)
data <- read.csv("Data/Tidy/Elecciones_Parcial.csv",header = T,)[,2:]
data <- read.csv("Data/Tidy/Elecciones_Parcial.csv",header = T,)[,2:13]
head(data)
dim(data)
